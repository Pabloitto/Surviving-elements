{"filter":false,"title":"backgrounddrawable.js","tooltip":"/Surviving-Elements/painters/backgrounddrawable.js","undoManager":{"mark":71,"position":71,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":27}},"text":"HeroDrawable = function(h){"},{"action":"insertText","range":{"start":{"row":0,"column":27},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":25,"column":0}},"lines":["    var hero;","    function init(){","        hero = h;","    }","    function draw(ctx){","        var image = hero.getImage();","\t\tctx.save();","\t\tctx.clearRect(0, 0, hero.cW, hero.cW);","\t\tctx.translate(hero.x, hero.y);","\t\tctx.rotate(hero.angle * Math.PI/180);","\t\tctx.drawImage(image, !hero.frame ? 0 : (hero.width * hero.frame), ","\t\t\t\t0, ","\t\t\t\thero.width,","           \t\thero.height,","\t\t\t\t-(hero.width/2), ","\t\t\t\t-(hero.height/2),","\t\t\t\thero.width,","           \t\thero.height);","\t\tctx.restore(); ","    }","    init();","    return {","        draw: draw","    }"]},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":2}},"text":"};"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":4}},"text":"Hero"},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"text":"B"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":1},"end":{"row":0,"column":2}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":22},"end":{"row":0,"column":23}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":22},"end":{"row":0,"column":23}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":23},"end":{"row":0,"column":24}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":8},"end":{"row":1,"column":12}},"text":"hero"},{"action":"insertText","range":{"start":{"row":1,"column":8},"end":{"row":1,"column":9}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":9},"end":{"row":1,"column":10}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":10},"end":{"row":1,"column":11}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":11},"end":{"row":1,"column":12}},"text":"k"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":8},"end":{"row":1,"column":12}},"text":"back"},{"action":"insertText","range":{"start":{"row":1,"column":8},"end":{"row":1,"column":18}},"text":"background"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":8},"end":{"row":3,"column":12}},"text":"hero"},{"action":"insertText","range":{"start":{"row":3,"column":8},"end":{"row":3,"column":18}},"text":"background"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":21},"end":{"row":3,"column":22}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":21},"end":{"row":3,"column":22}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":22},"end":{"row":3,"column":23}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":17}},"text":"\t\tctx.restore(); "},{"action":"removeLines","range":{"start":{"row":7,"column":0},"end":{"row":19,"column":0}},"nl":"\n","lines":["\t\tctx.save();","\t\tctx.clearRect(0, 0, hero.cW, hero.cW);","\t\tctx.translate(hero.x, hero.y);","\t\tctx.rotate(hero.angle * Math.PI/180);","\t\tctx.drawImage(image, !hero.frame ? 0 : (hero.width * hero.frame), ","\t\t\t\t0, ","\t\t\t\thero.width,","           \t\thero.height,","\t\t\t\t-(hero.width/2), ","\t\t\t\t-(hero.height/2),","\t\t\t\thero.width,","           \t\thero.height);"]},{"action":"removeText","range":{"start":{"row":6,"column":7},"end":{"row":6,"column":36}},"text":" var image = hero.getImage();"},{"action":"removeText","range":{"start":{"row":6,"column":7},"end":{"row":7,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":7},"end":{"row":6,"column":48}},"text":"var img = background.getImage(),w=0,h =0;"},{"action":"insertText","range":{"start":{"row":6,"column":48},"end":{"row":7,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":7,"column":0},"end":{"row":21,"column":0}},"lines":["\t    for (; w<canvas.width; w += background.width) {","\t        for (;h<canvas.height; h += background.height) {","\t            ctxBg.drawImage(img, (w + background.x) - background.width , h + background.y);","\t        }","\t    }","\t\tfor (w=0; w<canvas.width;w+=background.width) {","\t        for (h=0; h < canvas.height; h += background.height) {","\t            ctxBg.drawImage(img, w + background.x, h + background.y);","\t        }","\t    }","\t    for (w=0;w < canvas.width; w += background.width) {","\t        for (h=0; h < canvas.height; h += background.height) {","\t            ctxBg.drawImage(img, w + background.x, (h + background.y) - background.height);","\t        }"]},{"action":"insertText","range":{"start":{"row":21,"column":0},"end":{"row":21,"column":6}},"text":"\t    }"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":18},"end":{"row":5,"column":21}},"text":"ctx"},{"action":"insertText","range":{"start":{"row":5,"column":18},"end":{"row":5,"column":23}},"text":"ctxBg"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":26},"end":{"row":5,"column":27}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":27},"end":{"row":5,"column":28}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":28},"end":{"row":5,"column":29}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":29},"end":{"row":5,"column":30}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":29},"end":{"row":5,"column":30}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":28},"end":{"row":5,"column":29}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":27},"end":{"row":5,"column":28}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":26},"end":{"row":5,"column":27}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":","}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":26},"end":{"row":5,"column":27}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":27},"end":{"row":5,"column":28}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":28},"end":{"row":5,"column":29}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":29},"end":{"row":5,"column":30}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":29},"end":{"row":5,"column":30}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":28},"end":{"row":5,"column":29}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":27},"end":{"row":5,"column":28}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":26},"end":{"row":5,"column":27}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":26},"end":{"row":5,"column":27}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"w"},{"action":"insertText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"W"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":27},"end":{"row":5,"column":28}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":28},"end":{"row":5,"column":29}},"text":"h"},{"action":"insertText","range":{"start":{"row":5,"column":28},"end":{"row":5,"column":29}},"text":"H"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":7,"column":14},"end":{"row":7,"column":26}},"text":"canvas.width"},{"action":"insertText","range":{"start":{"row":7,"column":14},"end":{"row":7,"column":15}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":15},"end":{"row":7,"column":16}},"text":"W"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":17},"end":{"row":8,"column":30}},"text":"canvas.height"},{"action":"insertText","range":{"start":{"row":8,"column":17},"end":{"row":8,"column":18}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":18},"end":{"row":8,"column":19}},"text":"H"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":12,"column":14},"end":{"row":12,"column":26}},"text":"canvas.width"},{"action":"insertText","range":{"start":{"row":12,"column":14},"end":{"row":12,"column":15}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":12,"column":15},"end":{"row":12,"column":16}},"text":"W"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":23},"end":{"row":13,"column":36}},"text":"canvas.height"},{"action":"insertText","range":{"start":{"row":13,"column":23},"end":{"row":13,"column":24}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":24},"end":{"row":13,"column":25}},"text":"H"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":17,"column":18},"end":{"row":17,"column":30}},"text":"canvas.width"},{"action":"insertText","range":{"start":{"row":17,"column":18},"end":{"row":17,"column":19}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":19},"end":{"row":17,"column":20}},"text":"W"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":23},"end":{"row":18,"column":36}},"text":"canvas.height"},{"action":"insertText","range":{"start":{"row":18,"column":23},"end":{"row":18,"column":24}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":24},"end":{"row":18,"column":25}},"text":"H"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"text":"$"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":1},"end":{"row":0,"column":2}},"text":"."}]}]]},"ace":{"folds":[],"scrolltop":135,"scrollleft":0,"selection":{"start":{"row":0,"column":2},"end":{"row":0,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":56,"mode":"ace/mode/javascript"}},"timestamp":1409697952381,"hash":"e1b4e1bb83dc3005a2c7a3ec4a3c37a80fc1b5b5"}